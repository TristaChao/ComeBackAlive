# 地圖設計概念與程序化生成原則

這份文件旨在記錄《活著回來就好》中關於外部世界地圖設計的腦力激盪成果，並確立程序化生成 (Procedural Generation) 的核心原則。

## 核心原則：有結構的隨機

程序化生成地圖的目標，不應是創造完全的隨機與混亂，而是**有結構的隨機**。這意味著地圖生成將遵循一套預設的規則、主題和模組，以組合出一個既熟悉又陌生，且充滿有意義的遊戲挑戰與機會的外部世界。每一次外出，地圖的格局、資源點、敵人路徑和躲藏處都會不同，迫使玩家必須依賴當下的觀察與判斷，而非記憶。

## 地圖設計示意圖範例

以下是根據不同場景主題所設計的 ASCII 示意圖，用以展示我們對動態地圖的想像。

---

### 地圖範例 1：晴朗的「庭院角落」 (低風險區域)

*   **主題：** 房屋後院的一角，陽光普照。
*   **特點：** 相對安全，空間開闊，資源較為分散，適合新手或第一趟的探索。
*   **設計目標：** 讓玩家熟悉基本的移動、採集和躲藏機制。
*   **示意圖：**
    ```
    // 左上角是鼠窩出口 [H]，右下角有低風險的蘿蔔 (R) 和一個需要挖掘的馬鈴薯 {P}
    // (B) 是可用來躲藏的灌木叢

    +-----------+-----------+-----------+-----------+-----------+
    |  鼠窩[H]  |  草地 ░░  |  灌木(B)  |  草地 ░░  |   樹(T)   |
    +-----------+-----------+-----------+-----------+-----------+
    |  泥土路 .. |  泥土路 .. |  泥土路 .. |  草地 ░░  |  草地 ░░  |
    +-----------+-----------+-----------+-----------+-----------+
    |  草地 ░░  |  草地 ░░  |  泥土路 .. |  灌木(B)  |  草地 ░░  |
    +-----------+-----------+-----------+-----------+-----------+
    |  草地 ░░  |  石頭(S)  |  泥土路 .. |  草地 ░░  | 馬鈴薯{P} |
    +-----------+-----------+-----------+-----------+-----------+
    |  灌木(B)  |  草地 ░░  |  泥土路 .. |  泥土路 .. |  蘿蔔(R)  |
    +-----------+-----------+-----------+-----------+-----------+
    ```
*   **玩法思考：**
    *   玩家可以選擇直接沿著泥土路往下走，快速拿到蘿蔔 `(R)`。
    *   或者，他可以選擇冒一點險，在右下角的開闊地帶花時間挖掘馬鈴薯 `{P}`，這會製造持續的聲響，但回報也更高。
    *   路徑上的灌木叢 `(B)` 提供了多個可供中途躲藏和觀察的據點。

---

### 地圖範例 2：危險的「廚房地板」 (高風險、高回報)

*   **主題：** 人類住宅的廚房，充滿了食物的香氣和致命的危險。
*   **特點：** 結構更複雜，充滿了作為障礙物和掩體的「大型家具 `[F]`」。敵人（貓）的威脅巨大，但散落著高價值的食物。
*   **設計目標：** 考驗玩家的路線規劃、時機掌握和利用視野死角的能力。
*   **示意圖：**
    ```
    // 出口 [H] 在左下角。巨大的貓 (CAT) 佔據了 3x3 的格子並來回巡邏。
    // 右上角有高價值的「狗食碗 (DogBowl)」。桌腳 [F] 是關鍵的掩體。

    +-----------+-----------+-----------+-----------+-----------+
    | 櫃子 [F]  | 櫃子 [F]  | 櫃子 [F]  |  垃圾桶🗑️ | 狗食碗(DB) |
    +-----------+-----------+-----------+-----------+-----------+
    |  磁磚地板 |  磁磚地板 |           |  (CAT)    |  (CAT)    |
    |           |           | +-------+ |( ^ w ^ )|           |
    +-----------+-----------+ | 桌腳[F]| +-------+ |  (CAT)    |
    |  磁磚地板 |  磁磚地板 | |         | |  ███  |           |
    +-----------+-----------+ +-------+ | +-------+ |           |
    |  磁磚地板 |           |           |           |  磁磚地板 |
    +-----------+-----------+-----------+-----------+-----------+
    |  鼠窩[H]  |  磁磚地板 |  掉落的麵包*|  磁磚地板 |  磁磚地板 |
    +-----------+-----------+-----------+-----------+-----------+
    ```
*   **玩法思考：**
    *   **巨大的貓 `(CAT)`** 是視覺和移動上的雙重障礙。玩家無法穿越它，只能繞路。
    *   **路線選擇：** 玩家是滿足於拾取近處的麵包屑 `*`，還是要挑戰高難度，潛行繞過貓，到達右上方的「狗食碗」` (DB)`？
    *   **利用掩體：** 畫面中央的桌腳 `[F]` 成為了視野死角，是接近目標過程中最關鍵的喘息點。

---

### 地圖範例 3：雨天的「陽台」 (帶有環境變數)

*   **主題：** 一個半戶外的陽台，正在下著雨。
*   **特點：** 引入了「下雨」這個隨機事件。雨聲可以掩蓋腳步聲，但地上的水窪 `~~~` 會在踩到時發出更大的聲音。
*   **設計目標：** 展示環境如何改變遊戲規則，讓同一區域有不同的玩法。
*   **示意圖：**
    ```
    // (雨天): 你的氣味更難被察覺，但腳步聲在特定地點會被放大。
    // 主人遺落的購物袋 (Bag) 是主要目標。

    +-----------+-----------+-----------+-----------+-----------+
    |  花盆(B)  |  水窪 ~~~ |  水窪 ~~~ |  空地 ..  | 購物袋(Bag)|
    +-----------+-----------+-----------+-----------+-----------+
    |  空地 ..  |  空地 ..  |  空地 ..  |  空地 ..  |  空地 ..  |
    +-----------+-----------+-----------+-----------+-----------+
    |  水窪 ~~~ |  長椅 [F] |  長椅 [F] |  長椅 [F] |  水窪 ~SN~ |
    +-----------+-----------+-----------+-----------+-----------+
    |  空地 ..  |  空地 ..  |  花盆(B)  |  空地 ..  |  空地 ..  |
    +-----------+-----------+-----------+-----------+-----------+
    |  鼠窩[H]  |  空地 ..  |  水窪 ~~~ |  空地 ..  |  花盆(B)  |
    +-----------+-----------+-----------+-----------+-----------+
    ```
*   **玩法思考：**
    *   **雙面刃的雨天：** 整體潛行變得更容易，但玩家必須小心規劃路線，避開會發出聲響的水窪 `~~~`。
    *   **目標明確：** 購物袋 `(Bag)` 是個充滿誘惑的大獎，但它周圍幾乎沒有掩體，且有一片水窪。玩家可能需要等待敵人巡邏到遠處時，快速衝刺再返回。
    *   **風險評估：** 玩家需要判斷，是冒著踩到水窪被發現的風險直衝目標，還是選擇更遠、但更安全的路線？
