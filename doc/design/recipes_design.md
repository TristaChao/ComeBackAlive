# 遊戲食譜設計文檔 (Recipes Design)

這份文件定義了遊戲中的料理食譜，包含多步驟的複雜食譜，作為未來開發的依據。

## 1. 核心料理機制

遊戲支援兩種核心的料理機制：

*   **序列料理 (Sequential Cooking):** 在同一個料理工具中，分階段加入不同食材，逐步改變鍋中半成品的狀態。
*   **組合料理 (Combination Cooking):** 將一個手持的物品（通常是醬料或配料），與另一個放置在容器（如櫃台）上的主食結合，形成最終料理。

## 2. 料理工具 (Cooking Stations)

根據目前的設計，我們至少需要以下料理工具：

*   **烤台 (Grill):** 用於「烤」的料理。
*   **煮鍋 (Stove):** 用於「煮」的料理，將作為 **固定家具** 實作。允許玩家將特定的半成品（如 `洋蔥湯`）放回空的鍋中，放回後物品狀態穩定，不會有額外的計時或烹煮。
*   **砧板 (Chopping Board):** 用於「切」的料理，將作為 **固定家具** 實作。
*   **櫃台 (Counter):** 除了放置物品，也作為組合料理的操作平台和裝盤站。
*   **水槽 (Sink):** 提供無限的「水」資源。
*   **碗盤櫃 (Plate Cabinet):** 提供無限的「盤子」和「碗」資源。
*   **竹籤盒 (Skewer Box):** 提供無限的「竹籤」資源。

## 3. 物品屬性、餐具與食用規則

*   **可食用標籤 (is_edible):** 為了區分成品與半成品，`ItemData` 將新增 `@export var is_edible: bool = false` 屬性。
    *   **食材** (`生牛肉`)、**半成品** (`洋蔥湯`, `絞肉`)、**未裝盤成品** (`烤牛排`) 的 `is_edible` 均為 `false`。
    *   只有最終完成裝盤/裝碗的料理 (`盤裝烤牛排`, `碗裝沙拉`) 的 `is_edible` 才為 `true`。
*   **初始供應:** 盤子 (Plate) 和沙拉碗 (Bowl) 將從「碗盤櫃」無限拿取。
*   **竹籤 (Skewers):** 將被視為 **一次性料理工具**。在製作串烤時被消耗，但最終的串烤成品仍需裝盛在盤子或碗中才能被食用。
*   **「文明鼠」規則:** 只有 `is_edible` 為 `true` 的物品才能被食用。這強制了所有料理最終都需裝盤/裝碗。
*   **餐具堆疊 (Stacking):**
    *   盤子 (Plate) 和沙拉碗 (Bowl) 在櫃台或專屬容器上可以堆疊。
    *   乾淨與髒的盤子/碗可以混合堆疊。
    *   玩家只能與堆疊最上方的物品互動（拿取或放置）。
    *   堆疊是同質的（盤子與盤子疊，碗與碗疊，不能混疊）。
*   **鍋具清潔:**
    *   鍋子 (Stove) 將被視為「魔法般地自我清潔」，當取出最終成品後，鍋子會自動變回乾淨狀態。

## 4. 系列套餐與增益效果 (Set Menus & Buffs) - 長期目標

這是一個長期的遊戲目標系統，旨在鼓勵玩家探索並製作多樣化的料理。

*   **料理標籤定義:**
    *   **菜系 (Cuisine):** 代表一道料理的文化、地域風格或烹飪傳統。它幫助我們將具有相似食材、烹飪方法和風味的料理歸類。
        *   **預期值範例:** `義式`, `日式`, `家常菜`, `通用` (用於食材、半成品或不限於特定菜系的基礎物品)。
    *   **類型 (Course):** 描述一道料理在多道菜餐點結構中的作用或功能。它幫助我們根據料理的典型食用順序或目的來組織菜品。
        *   **預期值範例:** `開胃菜`, `主餐`, `湯品`, `甜點`, `配料` (醬汁、輔助小菜), `半成品` (中間產物)。
*   **套餐規則:** 遊戲將定義多種「系列套餐」。例如，「日式經典套餐」可能需要玩家製作 `日式開胃菜` + `日式主餐` + `日式湯品`。
*   **增益效果 (Buffs):** 當玩家在一定時間內吃完一整套「系列套餐」後，將會獲得強力的增益效果（Buff），例如短期內移動速度加快，或永久性地增加少量生命值上限。

## 5. 待實作食譜列表 (Recipes To Implement)

| 成品名稱 | 菜系 | 類型 | 所需食材 (或半成品) | 主要料理工具 | 特殊步驟/備註 |
| :--- | :--- |:--- |:--- |:--- |:--- |
| **烤牛排** | 義式 | 主餐 | 生牛肉 | 烤台 (Grill) | 基礎中的基礎。 |
| **洋蔥湯** | 義式 | 湯品 | 洋蔥 + 水 | 煮鍋 (Stove) | 序列料理：鍋中加水後放入洋蔥。 |
| **蘑菇醬汁** | 義式 | 配料 | 洋蔥湯 + 蘑菇 | 煮鍋 (Stove) | 序列料理：在洋蔥湯基礎上加入蘑菇。 |
| **番茄醬汁** | 義式 | 配料 | 洋蔥湯 + 番茄 | 煮鍋 (Stove) | 序列料理：在洋蔥湯基礎上加入番茄。 |
| **蘑菇醬汁牛排** | 義式 | 主餐 | 烤牛排 + 蘑菇醬汁 | 櫃台 (Counter) | 組合料理：手持醬汁對放有牛排的櫃台按 E。 |
| **番茄醬汁牛排** | 義式 | 主餐 | 烤牛排 + 番茄醬汁 | 櫃台 (Counter) | 組合料理：手持醬汁對放有牛排的櫃台按 E。 |
| **簡易沙拉** | 義式 | 開胃菜 | 番茄丁 + 洋蔥丁 + 沙拉碗 | 櫃台 | 組合料理：先將沙拉碗放上櫃台，再依序放入食材。 |
| **羅宋湯** | 義式 | 湯品 | 牛肉塊 + 高麗菜絲 + 番茄丁 + 水 | 煮鍋 | 序列料理：將所有食材依序加入鍋中烹煮。 |
| **義大利麵** | 義式 | 主餐 | 麵條 + 番茄醬汁 + 盤子 | 煮鍋/櫃台 | 1. 煮麵條。 2. 將煮好的麵條裝盤。 3. 淋上番茄醬汁。 |
| **布丁** | 義式 | 甜點 | 牛奶 + 雞蛋 + 糖 | 煮鍋 | 將所有食材加入鍋中烹煮。 |
| **烤蔬菜串** | 日式 | 開胃菜 | 蘑菇 + 紅蘿蔔 + 竹籤 | 櫃台/烤台 | 組合料理：用竹籤串起食材。竹籤在此步驟被消耗。最終成品需裝盤。 |
| **味噌湯** | 日式 | 湯品 | 豆腐塊 + 味噌 + 水 | 煮鍋 | 序列料理：將味噌溶於水中，再加入豆腐塊。 |
| **日式咖哩飯** | 日式 | 主餐 | 白飯 + (馬鈴薯+紅蘿蔔+肉塊+咖哩塊) | 煮鍋/櫃台 | 1. 煮白飯。 2. 製作咖哩醬。 3. 將飯裝盤後淋上咖哩醬。 |
| **三色糰子** | 日式 | 甜點 | 米粉 + 水 + 糖 + 竹籤 | 櫃台/煮鍋 | 1. 製作糰子。 2. 將糰子煮熟。 3. 用竹籤將三種糰子串起。 |
| **漢堡排** | 家常菜 | 主餐 | 生牛肉 + 洋蔥 | 砧板/櫃台/烤台 | 絞肉與洋蔥丁組合，做成生漢堡排後再烤。 |
| **牧羊人派** | 家常菜 | 主餐 | 牛肉+洋蔥+番茄+馬鈴薯+碗 | 多重步驟 | 終極料理，需用到煮、切、組合等多種技巧。 |
| **豪華蔬菜串** | 家常菜| 開胃菜 | 蘑菇片 + 小番茄塊 + 洋蔥丁 + 竹籤 | 砧板/櫃台/烤台 | 進階串燒，可多次組合不同蔬菜。 |
| **番茄丁** | 通用 | 半成品 | 番茄 | 砧板 (Chopping Board) | |
| **洋蔥丁** | 通用 | 半成品 | 洋蔥 | 砧板 (Chopping Board) | |
| **盤裝烤牛排** | 義式 | 主餐 | 烤牛排 + 盤子 | 櫃台 (Counter) | 組合料理：手持盤子對放有烤牛排的櫃台按 E。 |
| **碗裝蘑菇醬汁**| 義式 | 配料 | 蘑菇醬汁 + 碗 | 煮鍋(取出) / 櫃台(裝盤)| 組合料理：手持碗與煮鍋互動直接取出，或將醬汁放櫃台再用碗裝。 |

*(註：部分食譜所需的新基礎食材，如 `米飯`, `馬鈴薯`, `麵條`, `豆腐`, `牛奶`, `雞蛋`, `咖哩塊` 等，需在後續開發中一併建立。)*